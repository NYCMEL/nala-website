<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="UTF-8">
	<title>API TESTING</title>

	<base href="/repo_deploy/">

	<!-- W3C LOGGING -->
	<script>
	 wcENV="dev"; // prod || dev
	 wcAPP="NALA";
	 wcTOKEN="testing...";
	</script>
    </head>

    <body id="wc">
	<script src="js/_wc.js"></script>
	<script src="js/api.js"></script>

	<div id="api_base" value="https://nala-test.com"</div>

	<!-- FOR API TESTING -->
	<script>
	 let url = "https://nala-test.com";

	 let email = "mel@google.com";
	 let password = "testing";

	 switch(test=3) 
	 {
	     case 1:
	     let r = wc.fetch(url + "/api/curriculum.json");
	     console.log(">>>>", r);
	     break;

	     case 2:
	     async function login(email, password) {
		 let res = callApi({
		     method: "POST",
		     path: url + "/login_api.php",
		     jsonBody: {email, password}
		 });
		 
		 console.log(email, password, JSON.stringify(res));
	     }

	     login("mel@google.com", "hello")
	     break;

	     case 3:
	     wc.post(url + "/api/login_api.php", {
		 email: "user@test.com",
		 password: "secret"
	     }).then(data => {
		 console.log("Login success", data);
	     }).catch(err => {
		 console.warn("Login failed", err);
	     });
	     break;
	 }
	</script>
    </body>
</html>
