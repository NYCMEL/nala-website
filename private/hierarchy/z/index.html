<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MTK Hierarchy Demo</title>
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Roboto Font -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <!-- Hierarchy Styles -->
  <link rel="stylesheet" href="mtk-hierarchy.css">
  
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      background-color: #f5f5f5;
    }
    
    .demo-header {
      background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
      color: white;
      padding: 1.5rem 0;
      margin-bottom: 1rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    .demo-header h1 {
      margin: 0;
      font-size: 1.75rem;
      font-weight: 500;
    }
    
    .demo-header p {
      margin: 0.5rem 0 0 0;
      opacity: 0.9;
      font-size: 0.875rem;
    }
  </style>
</head>
<body>

  <!-- Demo Header -->
  <div class="demo-header">
    <div class="container">
      <h1>MTK Hierarchy - Course Structure Demo</h1>
      <p>Click on modules, lessons, and resources to explore the course content</p>
    </div>
  </div>

  <!-- MTK Hierarchy Component -->
  <mtk-hierarchy class="mtk-hierarchy">
    <div class="container mtk-hierarchy__container">
      <div class="row mtk-hierarchy__row">
        
        <!-- Left Hand Side - Course Structure -->
        <div class="col-md-4">
          <div class="mtk-hierarchy-lhs" role="navigation" aria-label="Course structure">
            <!-- Modules will be rendered here -->
          </div>
        </div>

        <!-- Right Hand Side - Content Display -->
        <div class="col-md-8">
          <div class="mtk-hierarchy-rhs" role="main" aria-label="Content viewer">
            <div class="mtk-hierarchy-rhs__empty">
              <span class="material-icons">touch_app</span>
              <p>Select a resource to view its content</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </mtk-hierarchy>

  <!-- Fallback if wc.js is not loaded -->
  <script>
    if (typeof wc === 'undefined') {
      // Create minimal wc object for demo
      window.wc = {
        log: console.log.bind(console),
        info: console.info.bind(console),
        warn: console.warn.bind(console),
        error: console.error.bind(console),
        group: console.group.bind(console),
        groupEnd: console.groupEnd.bind(console),
        publish: function(message, data) {
          if (typeof PubSub !== 'undefined') {
            return PubSub.publish(message, data);
          }
          console.log('wc.publish:', message, data);
        },
        subscribe: function(message, func) {
          if (typeof PubSub !== 'undefined') {
            return PubSub.subscribe(message, func);
          }
          console.log('wc.subscribe:', message);
          return function() {};
        }
      };
      
      // Simple PubSub fallback
      window.PubSub = (function() {
        var messages = {};
        var lastUid = -1;
        
        return {
          publish: function(message, data) {
            if (!messages[message]) return false;
            var subscribers = messages[message];
            for (var s in subscribers) {
              if (subscribers.hasOwnProperty(s)) {
                setTimeout((function(subscriber) {
                  return function() {
                    subscriber(message, data);
                  };
                })(subscribers[s]), 0);
              }
            }
            return true;
          },
          subscribe: function(message, func) {
            if (!messages[message]) {
              messages[message] = {};
            }
            var token = 'uid_' + String(++lastUid);
            messages[message][token] = func;
            return token;
          }
        };
      })();
    }
  </script>
  
  <!-- Configuration -->
  <script src="mtk-hierarchy.config.js"></script>
  <!-- Hierarchy Logic -->
  <script src="mtk-hierarchy.js"></script>

</body>
</html>
